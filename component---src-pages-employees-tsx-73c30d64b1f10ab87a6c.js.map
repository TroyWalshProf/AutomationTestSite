{"version":3,"file":"component---src-pages-employees-tsx-73c30d64b1f10ab87a6c.js","mappings":"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","sources":["webpack://@cognizant-softvision/automation-test-site/./src/hooks/department-hooks.ts","webpack://@cognizant-softvision/automation-test-site/./src/hooks/state-hooks.ts","webpack://@cognizant-softvision/automation-test-site/./src/hooks/employee-hooks.ts","webpack://@cognizant-softvision/automation-test-site/./src/pages/Employees.tsx"],"sourcesContent":["import { useApplicationState, setApplicationState } from \"./context-hooks\";\r\n\r\nconst getDepartments = () => {\r\n    const state = useApplicationState();\r\n\r\n    return state.departments;\r\n}\r\n\r\nconst useGetDepartment = () => {\r\n    const state = useApplicationState();\r\n\r\n    return (id: number) => {\r\n        return state.departments.find(department => department.id == id);\r\n    } \r\n}\r\n\r\nconst useCreateDepartment = () => {\r\n    const state = useApplicationState();\r\n\r\n    return (department: any) => {\r\n        // TODO: Generate UUID\r\n        department.id = -1;\r\n        const newState = {...state};\r\n        newState.departments.push(department);\r\n\r\n        setApplicationState(newState);\r\n    }\r\n}\r\n\r\nconst useDeleteDepartment = () => {\r\n    const state = useApplicationState();\r\n\r\n    return (id: number) => {\r\n        const newState = {...state};\r\n        newState.departments.splice(newState.departments.findIndex(dept => dept.id == id), 1);\r\n\r\n        setApplicationState(newState);\r\n    }\r\n}\r\n\r\nconst useEditDepartment = () => {\r\n    const state = useApplicationState();\r\n\r\n    return (id: number, department: any) => {\r\n        const newState = {...state};\r\n        const index = newState.departments.findIndex(dept => dept.id == id);\r\n        newState.departments[index] = Object.assign(newState.departments[index], department);\r\n\r\n        setApplicationState(newState);\r\n    }\r\n}\r\n\r\nexport { getDepartments, useGetDepartment, useCreateDepartment, useDeleteDepartment, useEditDepartment };","import { useApplicationState, setApplicationState } from \"./context-hooks\";\r\n\r\nconst getStates = () => {\r\n    const state = useApplicationState();\r\n\r\n    return state.states;\r\n}\r\n\r\nconst useGetState = () => {\r\n    const state = useApplicationState();\r\n\r\n    return (id: number) => {\r\n        return state.states.find(stateLoc => stateLoc.id == id);\r\n    } \r\n}\r\n\r\nexport { getStates, useGetState };","import { useApplicationState, setApplicationState } from \"./context-hooks\";\r\nimport { useGetDepartment } from \"./department-hooks\";\r\nimport { useGetState } from \"./state-hooks\";\r\n\r\nconst getEmployees = () => {\r\n    const state = useApplicationState();\r\n    const getState = useGetState();\r\n    const getDepartment = useGetDepartment();\r\n\r\n    return state.employees.map(employee => {\r\n        employee.state = getState(employee.stateId)?.state;\r\n        employee.department = getDepartment(employee.departmentId)?.department;\r\n        return employee;\r\n    });\r\n}\r\n\r\nconst useGetEmployee = () => {\r\n    const state = useApplicationState();\r\n    const getState = useGetState();\r\n    const getDepartment = useGetDepartment();\r\n\r\n    return (id: number) => {\r\n        let employee = state.employees.find(empl => empl.id == id);\r\n        employee.state = getState(employee.stateId).state;\r\n        employee.department = getDepartment(employee.departmentId).department;\r\n        return employee;\r\n    } \r\n}\r\n\r\nconst useCreateEmployee = () => {\r\n    const state = useApplicationState();\r\n\r\n    return (employee: any) => {\r\n        // TODO: Generate UUID\r\n        employee.id = -1;\r\n        const newState = {...state};\r\n        newState.employees.push(employee);\r\n\r\n        setApplicationState(newState);\r\n    }\r\n}\r\n\r\nconst useDeleteEmployee = () => {\r\n    const state = useApplicationState();\r\n\r\n    return (id: number) => {\r\n        const newState = {...state};\r\n        newState.employees.splice(newState.employees.findIndex(empl => empl.id == id), 1);\r\n\r\n        setApplicationState(newState);\r\n    }\r\n}\r\n\r\nconst useEditEmployee = () => {\r\n    const state = useApplicationState();\r\n\r\n    return (id: number, employee: any) => {\r\n        const newState = {...state};\r\n        const index = newState.employees.findIndex(empl => empl.id == id);\r\n        newState.employees[index] = Object.assign(newState.employees[index], employee);\r\n\r\n        setApplicationState(newState);\r\n    }\r\n}\r\n\r\nexport { getEmployees, useCreateEmployee, useDeleteEmployee, useGetEmployee, useEditEmployee };","import { Link } from \"gatsby\";\nimport React, { useState, useEffect } from \"react\";\nimport { Layout } from \"../components/shared/layout\";\nimport { getEmployees, useDeleteEmployee } from \"../hooks/employee-hooks\";\n\n/**\n * Main employee listing on Automation site.\n * Ported from View/Employees/Index.cshtml.\n *\n * @param props\n * @returns\n */\nconst Employees = (props: any) => {\n  // The hook calls need to happen within the layout context, which is why\n  // two components are used.\n  const EmployeesInner = (props: any) => {\n    const employees = getEmployees();\n\n    // TODO: Fetch if we want to\n    return (\n      <React.Fragment>\n        <h2>Index</h2>\n        <p>\n          <Link to=\"/Employees/Create\">Create New</Link>\n        </p>\n        <table className=\"table\">\n          <tbody>\n            <tr>\n              <th>City</th>\n              <th>Department</th>\n              <th>State</th>\n              <th>First Name</th>\n              <th>Last Name</th>\n              <th>Address</th>\n              <th></th>\n            </tr>\n            {!!employees &&\n              employees.map((employee) => (\n                <tr>\n                  <td>{employee.city}</td>\n                  <td>{employee.department}</td>\n                  <td>{employee.state}</td>\n                  <td>{employee.firstName}</td>\n                  <td>{employee.lastName}</td>\n                  <td>{employee.address}</td>\n                  <td>\n                    <Link to={\"/Employees/Edit/\" + employee.id}> Edit </Link>|\n                    <Link to={\"/Employees/Details/\" + employee.id}>\n                      Details\n                    </Link>\n                    |<Link to={\"/Employees/Delete/\" + employee.id}>Delete</Link>\n                  </td>\n                </tr>\n              ))}\n          </tbody>\n        </table>\n      </React.Fragment>\n    );\n  };\n\n  return (\n    <Layout title=\"Index\">\n      <EmployeesInner />\n    </Layout>\n  );\n};\n\nexport default Employees;\n"],"names":["getDepartments","useApplicationState","departments","useGetDepartment","state","id","find","department","useCreateDepartment","newState","push","setApplicationState","useDeleteDepartment","splice","findIndex","dept","useEditDepartment","index","Object","assign","useGetState","states","stateLoc","getEmployees","getState","getDepartment","employees","map","employee","stateId","departmentId","useGetEmployee","empl","useCreateEmployee","useDeleteEmployee","useEditEmployee","props","EmployeesInner","to","className","city","firstName","lastName","address","title"],"sourceRoot":""}